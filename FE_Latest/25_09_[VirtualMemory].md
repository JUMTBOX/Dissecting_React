## 가상메모리
- OS는 MMU(Memory Management Unit)을 사용해 유저모드 프로그램에게 ```가상 메모리(Virtual Memory)```를 제공한다.
- 페이지 폴트(page fault) 메커니즘으로 인해 프로그램은 필요한 만큼(가상 메모리 주소 범위 내에서) 많은 메모리가 있다고 생각할 수 있게 되었다.

#### 하지만 요청받은 메모리가 사용 가능한 물리적 메모리의 크기보다 크면 어떻게 되는가?
- OS는 현재 필요하지 않은 메모리 페이지를 더 느리지만 더 용량이 큰 대용량 저장장치인 디스크로 옮긴다. (```스왑 아웃/swap out```)
- 이런 스왑 아웃한 페이지에 프로그램이 접근하면 운영체제는 필요한 메모리 공간을 확보하고 요청 받은 페이지를 다시 메모리로 불러들인다.
  <br/> (디스크에서 메모리로 페이지를 읽어오는 동작은 ```스왑 인/swap in``` 이라고 함)
- 이런식으로 페이지를 처리하는 것을 ```요구불 페이징/demand paging```이라고 부른다.
- ```스와핑/swapping``` (스왑 인 or 스왑 아웃)이 발생하면 시스템 성능이 크게 저하, 하지만 가상 메모리 시스템은 성능 저하를 막기 위해 다양한 기법 활용
- 그 중 하나가 페이지 접근을 추적하여 스왑 아웃할 페이지를 결정하는 LRU(Least Recently Used) 알고리즘
  - 최근에 가장 자주 사용된 페이지는 물리 메모리에 남겨두고 최근에 가장 덜 사용한 페이지를 스왑 아웃한다.

## 더 알아보기

### 💥 페이지 폴트(page fault) 메커니즘 이란?
- 프로그램이 물리적 메모리에 연관되지 않은 주소에 접근하면 ```페이지 폴트(page fault)``` 예외가 발생
- 이 예외가 발생하면 OS는 실행 중인 프로그램을 중단시키는 대신 MMU(Memory Management Unit)가 추가 메모리를 할당하게 해서
  <br/> 스택 공간을 늘리고 사용자 프로그램 실행을 계속할 수 있게 된다.